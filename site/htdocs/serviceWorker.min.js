"use strict";!function(){function e(){return caches.open(n+t).then(function(e){return e.addAll(["/","/images/autumn-earth.svg","/css/base.css","/js/core.min.js","/offline.html",c])})}var t="static",n="v12::",c="/images/offline-fallback.jpg";self.addEventListener("install",function(t){t.waitUntil(e())}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return 0!==e.indexOf(n)}).map(function(e){return caches["delete"](e)}))}))}),self.addEventListener("fetch",function(e){var i=e.request;return"GET"!==i.method?void e.respondWith(fetch(i,{credentials:"include"})["catch"](function(){return caches.match("/offline.html")})):-1!==i.headers.get("Accept").indexOf("text/html")?void e.respondWith(fetch(i,{credentials:"include"}).then(function(e){var c=e.clone();return caches.open(n+t).then(function(e){e.put(i,c)}),e})["catch"](function(){return caches.match(i).then(function(e){return e||caches.match("/offline.html")})})):void e.respondWith(caches.match(i).then(function(e){return e||fetch(i).then(function(e){if(-1!==i.url.indexOf("/fonts/")){var c=e.clone();caches.open(n+t).then(function(e){e.put(i,c)})}return e})["catch"](function(){return-1!==i.headers.get("Accept").indexOf("image")?caches.match(c):void 0})}))})}();