"use strict";var hnefataflNameSpace={board:[],initialisehnefataflGame:function(){hnefataflNameSpace.board=[["#","#","x","x","x","-","-","x","x","x","x","x"],["#","#","x","x","-","-","-","-","x","x","@","@"],["#","#","x","-","-","-","-","-","-","x","@","@"],["#","#","x","-","-","-","-","-","-","x","@","@"],["#","#","x","x","-","-","-","-","x","x","@","@"],["x","x","x","x","x","-","-","x","x","x","@","@"]],hnefataflNameSpace.boardWidth=hnefataflNameSpace.board[0].length,hnefataflNameSpace.boardHeight=hnefataflNameSpace.board.length,hnefataflNameSpace.imagesToLoad=[{name:"board",src:"/images/hnefatafl/board.jpg"}],document.getElementById("hnefataflGame").addEventListener("click",hnefataflNameSpace.canvasClick,!1),hnefataflNameSpace.gameMode="loading",Loader.preload(hnefataflNameSpace.imagesToLoad,hnefataflNameSpace.initCardGame,loadingProgress)},getCanvasPosition:function(){var a=document.getElementById("hnefataflGame").getBoundingClientRect();hnefataflNameSpace.outerCanvasLeft=a.left,hnefataflNameSpace.outerCanvasTop=a.top,hnefataflNameSpace.outerCanvasWidth=a.right-a.left,hnefataflNameSpace.outerCanvasHeight=a.bottom-a.top,hnefataflNameSpace.pageLoadScroll=document.body.scrollTop+document.documentElement.scrollTop},canvasClick:function(a){a&&a.preventDefault();a.clientX,document.body.scrollLeft,document.documentElement.scrollLeft,hnefataflNameSpace.outerCanvasLeft,a.clientY,document.body.scrollTop,document.documentElement.scrollTop,hnefataflNameSpace.outerCanvasTop,hnefataflNameSpace.pageLoadScroll;hnefataflNameSpace.gameMode},initCardGame:function(){hnefataflNameSpace.getCanvasPosition(),hnefataflNameSpace.gameCanvas=document.getElementById("hnefataflGame"),hnefataflNameSpace.gameCanvas.getContext&&(hnefataflNameSpace.gameContext=hnefataflNameSpace.gameCanvas.getContext("2d"),hnefataflNameSpace.canvasWidth=hnefataflNameSpace.gameCanvas.width,hnefataflNameSpace.canvasHeight=hnefataflNameSpace.gameCanvas.height),hnefataflNameSpace.boardImage=Loader.getImage("board"),hnefataflNameSpace.currentOpponent=1,hnefataflNameSpace.isPlayer1AI=!0,hnefataflNameSpace.aiIsWorking=-1,hnefataflNameSpace.waitForDrawUpdate=!1,hnefataflNameSpace.whoCanClick=hnefataflNameSpace.currentPlayersTurn,hnefataflNameSpace.gameMode="play","undefined"!=typeof gameMode&&(gameMode="hnefataflGame")},draw:function(){hnefataflNameSpace.gameContext.drawImage(hnefataflNameSpace.boardImage,0,0)},update:function(){}};